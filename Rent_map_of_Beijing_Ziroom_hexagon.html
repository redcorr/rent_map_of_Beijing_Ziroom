<!DOCTYPE HTML>
<html>
    <head>
        <meta charset="utf-8">
        <title>Rent_map_of_Beijing_ziroom</title>
        <style>
            html, body, #map {
                margin: 0; padding: 0; width: 100%; height: 100%;
            }
        </style>
    </head>
    <body>
        <div id='map'  class = 'map'></div>
        <script src="https://webapi.amap.com/maps?key=【高德地图key】&v=1.4.15"></script>
        <script src="https://webapi.amap.com/loca?key=【高德地图key】&v=1.3.2"></script>
        <script src="uncomprehended_BUT_indispensable.js"></script>
        <!-- 不知道有什么用但是不可或缺，从高德示例得到 -->
        <script type="text/javascript">
            $.get("rent_info_with_geocode.csv", function(data){// 放到服务器上才能用
                const amap = new AMap.Map('map', {
                    mapStyle: 'amap://styles/dark',
                    zoom: 10,
                    center: [116.407394,39.904211]
                });
                const layer = new Loca.HexagonLayer({
                    map: amap,
                    fitView: true
                });

                layer.setData(data, {
                    type: 'csv',
                    lnglat: 'geo_code',   // 指定坐标数据的来源，数据格式: 经度在前，纬度在后，数组格式。
                    value: 'price'
                });

                layer.setOptions({
                    mode: 'min',
                    unit: 'px',
                    style: {
                        radius: 4,
                        opacity: 0.9,
                        height: [0, 100000],
                        color: ['#0868AC', '#43A2CA', '#43A2CA', '#7BCCC4', '#BAE4BC', '#F0F9E8', '#F0F9E8'],
                        }
                });
                
                layer.render();
                
                });
        </script>
    </body>
</html>