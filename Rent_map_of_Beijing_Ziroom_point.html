<!DOCTYPE HTML>
<html>
    <head>
        <meta charset="utf-8">
        <title>Rent_map_of_Beijing_ziroom</title>
        <style>
            html, body, #map {
                margin: 0; padding: 0; width: 100%; height: 100%;
            }
        </style>
    </head>
    <body>
        <div id='map'  class = 'map'></div>
        <script src="https://webapi.amap.com/maps?key=【高德地图key】&v=1.4.15"></script>
        <script src="https://webapi.amap.com/loca?key=【高德地图key】&v=1.3.2"></script>
        <script src="uncomprehended_BUT_indispensable.js"></script>
        <!-- 不知道有什么用但是不可或缺，从高德示例得到 -->
        <script type="text/javascript">
            $.get("rent_info_with_geocode.csv", function(test){// 放到服务器上才能用
                const amap = new AMap.Map('map', {
                    mapStyle: 'amap://styles/grey',
                    zoom: 10,
                    center: [116.407394,39.904211]
                });

                const layer = new Loca.PointLayer({
                    map: amap
                });

                layer.setData(test, {
                    type: 'csv',
                    lnglat: 'geo_code'   // 指定坐标数据的来源，数据格式: 经度在前，纬度在后，数组格式。
                });

                layer.setOptions({
                    style: {
                        radius: 2,     // 圆形半径，单位像素
                        color: '#b7eff7', // 填充颜色
                        borderWidth: 0.5,   // 边框宽度
                        borderColor: '#ffffff'  // 边框颜色
                    }
                });
                layer.render();
                
                });
        </script>
    </body>
</html>